eBPF Process Monitor Performance Test Suite
==========================================

Starting comprehensive performance analysis...

=== Phase 1: Basic Performance Comparison ===
=== Performance Comparison: Kprobe vs Tracepoint ===

Running kprobe performance test...
Iterations: 10000, Duration: 30 seconds
âœ“ kprobe test completed
  Average latency: 433.10 ns
  Events per second: 2308936
  Memory usage: 1096 KB
  CPU usage: 0.00%
  Allocation failures: 0
  Processing errors: 0

Running tracepoint performance test...
Iterations: 10000, Duration: 30 seconds
âœ“ tracepoint test completed
  Average latency: 469.14 ns
  Events per second: 2131573
  Memory usage: 1332 KB
  CPU usage: 5.23%
  Allocation failures: 0
  Processing errors: 0

=== Detailed Performance Comparison Report ===

Kprobe Implementation:
  Average latency: 433.10 ns
  Events per second: 2308936
  Memory usage: 1096 KB
  CPU usage: 0.00%
  Allocation failures: 0
  Processing errors: 0

Tracepoint Implementation:
  Average latency: 469.14 ns
  Events per second: 2131573
  Memory usage: 1332 KB
  CPU usage: 5.23%
  Allocation failures: 0
  Processing errors: 0

Performance Analysis:
  Performance improvement: -8.32%
  Stability score: 0.00
  Reliability rating: 4/10

Recommendations:
  âš  Performance improvement is minimal
  âš  Stability improvement is minimal
  âš  Consider additional optimization

âœ— Performance comparison: FAILED

=== Phase 2: High Load Stability Tests ===
Running kprobe stability test under high load...
âœ“ kprobe stability test completed
  Test duration: 4.72 ms
  Error increase: 0
  Error rate: 0.00%
  Stability rating: EXCELLENT

Running tracepoint stability test under high load...
âœ“ tracepoint stability test completed
  Test duration: 4.99 ms
  Error increase: 0
  Error rate: 0.00%
  Stability rating: EXCELLENT

âœ“ Kprobe stability test: PASSED
âœ“ Tracepoint stability test: PASSED

=== Phase 3: Memory Usage Tests ===
Running kprobe memory stress test...
âœ“ kprobe memory stress test completed
  Initial memory: 1952 KB
  Peak memory: 1952 KB
  Memory increase: 0 KB
  Memory growth: 0.00%
  Memory efficiency: EXCELLENT

Running tracepoint memory stress test...
âœ“ tracepoint memory stress test completed
  Initial memory: 1952 KB
  Peak memory: 1952 KB
  Memory increase: 0 KB
  Memory growth: 0.00%
  Memory efficiency: EXCELLENT

âœ“ Kprobe memory test: PASSED
âœ“ Tracepoint memory test: PASSED

=== Phase 4: CPU Usage Tests ===
Running kprobe CPU stress test...
âœ“ kprobe CPU stress test completed
  Test duration: 0.01 seconds
  Average CPU usage: 6.77%
  Processing rate: 2213.64 K events/sec
  CPU efficiency: EXCELLENT

Running tracepoint CPU stress test...
âœ“ tracepoint CPU stress test completed
  Test duration: 0.01 seconds
  Average CPU usage: 19.88%
  Processing rate: 2146.33 K events/sec
  CPU efficiency: EXCELLENT

âœ“ Kprobe CPU test: PASSED
âœ“ Tracepoint CPU test: PASSED

=== Final Test Summary ===
Tests passed: 6/7
Success rate: 85.7%

=== Performance Optimization Recommendations ===
âš  MIXED RESULTS: Both implementations have trade-offs
   - Tracepoint better in 0 out of 4 categories
   - Consider workload-specific testing

=== Detailed Metrics Summary ===
Performance Improvement: -8.32%
Stability Score: 0.00
Memory Efficiency: GOOD vs GOOD
CPU Efficiency: GOOD vs GOOD

ðŸŽ‰ Performance test suite completed!
