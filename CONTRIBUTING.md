# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹OpenEDRé¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å¹¶æ„Ÿè°¢æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ã€‚

## ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)
- [é—®é¢˜åé¦ˆ](#é—®é¢˜åé¦ˆ)
- [å®‰å…¨æ¼æ´](#å®‰å…¨æ¼æ´)

## è¡Œä¸ºå‡†åˆ™

å‚ä¸OpenEDRé¡¹ç›®å³è¡¨ç¤ºæ‚¨åŒæ„éµå®ˆæˆ‘ä»¬çš„[è¡Œä¸ºå‡†åˆ™](CODE_OF_CONDUCT.md)ã€‚è¯·ç¡®ä¿æ‚¨çš„è¡Œä¸ºæœ‰åŠ©äºåˆ›å»ºä¸€ä¸ªå¼€æ”¾ã€å‹å¥½çš„ç¤¾åŒºç¯å¢ƒã€‚

## å¦‚ä½•è´¡çŒ®

### è´¡çŒ®ç±»å‹

- **é”™è¯¯ä¿®å¤**: ä¿®å¤å·²çŸ¥çš„bug
- **æ–°åŠŸèƒ½**: æ·»åŠ æ–°çš„åŠŸèƒ½æˆ–æ”¹è¿›
- **æ–‡æ¡£**: æ”¹è¿›æˆ–ç¿»è¯‘æ–‡æ¡£
- **æµ‹è¯•**: æ·»åŠ ç¼ºå¤±çš„æµ‹è¯•
- **æ€§èƒ½**: ä¼˜åŒ–æ€§èƒ½
- **é‡æ„**: æ”¹è¿›ä»£ç ç»“æ„

### å¼€å§‹ä¹‹å‰

1. æŸ¥çœ‹[Issues](https://github.com/yourusername/OpenEDR/issues)ï¼Œçœ‹æ˜¯å¦æœ‰äººå·²ç»åœ¨å¤„ç†ç›¸ä¼¼çš„é—®é¢˜
2. å¯¹äºè¾ƒå¤§çš„æ”¹åŠ¨ï¼Œè¯·å…ˆåˆ›å»ºIssueè®¨è®º
3. Forké¡¹ç›®åˆ°æ‚¨çš„GitHubè´¦æˆ·
4. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯

## å¼€å‘æµç¨‹

### 1. ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†æ‚¨çš„fork
git clone https://github.com/yourname/OpenEDR.git
cd OpenEDR

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/yourusername/OpenEDR.git

# å®‰è£…ä¾èµ–
make install-tools
```

### 2. åˆ›å»ºåˆ†æ”¯

```bash
# ä»æœ€æ–°çš„developåˆ†æ”¯åˆ›å»º
git checkout develop
git pull upstream develop
git checkout -b feature/your-feature-name
```

åˆ†æ”¯å‘½åè§„èŒƒï¼š
- `feature/` - æ–°åŠŸèƒ½
- `fix/` - é”™è¯¯ä¿®å¤
- `docs/` - æ–‡æ¡£æ›´æ–°
- `refactor/` - ä»£ç é‡æ„
- `test/` - æµ‹è¯•ç›¸å…³

### 3. å¼€å‘

```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
make dev

# è¿è¡Œæµ‹è¯•
make test

# æ£€æŸ¥ä»£ç è§„èŒƒ
make lint
```

### 4. æäº¤æ›´æ”¹

```bash
# æ·»åŠ æ›´æ”¹
git add .

# æäº¤ï¼ˆä¼šè§¦å‘commit lintï¼‰
git commit -m "feat: add new detection rule engine"

# æ¨é€åˆ°æ‚¨çš„fork
git push origin feature/your-feature-name
```

### 5. åˆ›å»ºPull Request

1. è®¿é—®GitHubä¸Šæ‚¨çš„fork
2. ç‚¹å‡»"Compare & pull request"
3. é€‰æ‹©baseåˆ†æ”¯ä¸º`develop`
4. å¡«å†™PRæ¨¡æ¿
5. ç­‰å¾…ä»£ç å®¡æŸ¥

## æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨[Conventional Commits](https://www.conventionalcommits.org/)è§„èŒƒã€‚

### æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### ç±»å‹(type)

- **feat**: æ–°åŠŸèƒ½
- **fix**: ä¿®å¤bug
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- **refactor**: é‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤bugï¼‰
- **perf**: æ€§èƒ½ä¼˜åŒ–
- **test**: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•
- **chore**: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- **ci**: CI/CDç›¸å…³çš„å˜åŠ¨

### èŒƒå›´(scope)

- **agent**: Agentç›¸å…³
- **server**: æœåŠ¡å™¨ç›¸å…³
- **web**: Webå‰ç«¯ç›¸å…³
- **api**: APIç›¸å…³
- **docs**: æ–‡æ¡£ç›¸å…³
- **build**: æ„å»ºç³»ç»Ÿç›¸å…³

### ç¤ºä¾‹

```bash
# åŠŸèƒ½æ·»åŠ 
feat(agent): add process injection detection

# Bugä¿®å¤
fix(server): resolve memory leak in event processing

# æ–‡æ¡£æ›´æ–°
docs(api): update authentication documentation

# ç ´åæ€§å˜æ›´
feat(api)!: change event schema

BREAKING CHANGE: The event schema has been updated to v2.
Old clients will need to be updated.
```

## ä»£ç è§„èŒƒ

### Goä»£ç è§„èŒƒ

- éµå¾ª[Effective Go](https://golang.org/doc/effective_go.html)
- ä½¿ç”¨`gofmt`æ ¼å¼åŒ–ä»£ç 
- ä½¿ç”¨`golangci-lint`è¿›è¡Œé™æ€æ£€æŸ¥
- å‡½æ•°æ³¨é‡Šéµå¾ªGoDocè§„èŒƒ

```go
// ProcessEvent handles incoming process events from agents.
// It validates the event, enriches it with additional context,
// and forwards it to the detection engine.
func ProcessEvent(event *Event) error {
    // å®ç°...
}
```

### TypeScript/Reactè§„èŒƒ

- ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- éµå¾ªReact Hooksè§„åˆ™
- ä½¿ç”¨å‡½æ•°ç»„ä»¶å’ŒHooks
- ä½¿ç”¨ESLintå’ŒPrettier

```typescript
interface Props {
  agent: Agent;
  onUpdate: (agent: Agent) => void;
}

export const AgentCard: React.FC<Props> = ({ agent, onUpdate }) => {
  // å®ç°...
};
```

### é€šç”¨è§„èŒƒ

- å˜é‡å’Œå‡½æ•°ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°
- é¿å…é­”æ³•æ•°å­—ï¼Œä½¿ç”¨å¸¸é‡
- é€‚å½“çš„é”™è¯¯å¤„ç†
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- ä¿æŒå‡½æ•°ç®€æ´ï¼ˆ< 50è¡Œï¼‰

## æµ‹è¯•è¦æ±‚

### å•å…ƒæµ‹è¯•

- æ–°åŠŸèƒ½å¿…é¡»åŒ…å«å•å…ƒæµ‹è¯•
- æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡ï¼š80%
- ä½¿ç”¨è¡¨é©±åŠ¨æµ‹è¯•ï¼ˆGoï¼‰

```go
func TestProcessEvent(t *testing.T) {
    tests := []struct {
        name    string
        event   *Event
        wantErr bool
    }{
        {
            name:    "valid event",
            event:   &Event{Type: "process_create"},
            wantErr: false,
        },
        // æ›´å¤šæµ‹è¯•ç”¨ä¾‹...
    }
    
    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            err := ProcessEvent(tt.event)
            if (err != nil) != tt.wantErr {
                t.Errorf("ProcessEvent() error = %v, wantErr %v", err, tt.wantErr)
            }
        })
    }
}
```

### é›†æˆæµ‹è¯•

- APIç«¯ç‚¹å¿…é¡»æœ‰é›†æˆæµ‹è¯•
- ä½¿ç”¨æµ‹è¯•æ•°æ®åº“å’Œæ¨¡æ‹ŸæœåŠ¡
- æ¸…ç†æµ‹è¯•æ•°æ®

### E2Eæµ‹è¯•

- å…³é”®ç”¨æˆ·æµç¨‹éœ€è¦E2Eæµ‹è¯•
- ä½¿ç”¨Cypressè¿›è¡Œå‰ç«¯E2Eæµ‹è¯•

## æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

- **ç”¨æˆ·æ–‡æ¡£**: é¢å‘æœ€ç»ˆç”¨æˆ·
- **APIæ–‡æ¡£**: APIå‚è€ƒå’Œç¤ºä¾‹
- **å¼€å‘æ–‡æ¡£**: æ¶æ„å’Œå¼€å‘æŒ‡å—
- **è¿ç»´æ–‡æ¡£**: éƒ¨ç½²å’Œè¿ç»´æŒ‡å—

### æ–‡æ¡£è§„èŒƒ

- ä½¿ç”¨æ¸…æ™°ã€ç®€æ´çš„è¯­è¨€
- æä¾›ä»£ç ç¤ºä¾‹
- ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
- ä¸­è‹±æ–‡æ–‡æ¡£åˆ†åˆ«ç»´æŠ¤

### æ–‡æ¡£ç»“æ„

```markdown
# æ ‡é¢˜

## æ¦‚è¿°
ç®€è¦è¯´æ˜æ–‡æ¡£å†…å®¹

## å‰ææ¡ä»¶
- åˆ—å‡ºæ‰€éœ€çš„å‰ææ¡ä»¶

## æ­¥éª¤
1. ç¬¬ä¸€æ­¥
2. ç¬¬äºŒæ­¥

## ç¤ºä¾‹
\```bash
# ä»£ç ç¤ºä¾‹
\```

## å¸¸è§é—®é¢˜
è§£ç­”å¸¸è§é—®é¢˜

## ç›¸å…³é“¾æ¥
- [ç›¸å…³æ–‡æ¡£1](link1)
- [ç›¸å…³æ–‡æ¡£2](link2)
```

## é—®é¢˜åé¦ˆ

### æŠ¥å‘ŠBug

åˆ›å»ºIssueæ—¶è¯·åŒ…å«ï¼š

1. **ç¯å¢ƒä¿¡æ¯**
   - OpenEDRç‰ˆæœ¬
   - æ“ä½œç³»ç»Ÿ
   - ç›¸å…³ç»„ä»¶ç‰ˆæœ¬

2. **é—®é¢˜æè¿°**
   - æœŸæœ›è¡Œä¸º
   - å®é™…è¡Œä¸º
   - é”™è¯¯ä¿¡æ¯

3. **å¤ç°æ­¥éª¤**
   - è¯¦ç»†çš„æ“ä½œæ­¥éª¤
   - æœ€å°å¤ç°ä»£ç 

4. **æ—¥å¿—å’Œæˆªå›¾**
   - ç›¸å…³æ—¥å¿—
   - é”™è¯¯æˆªå›¾

### åŠŸèƒ½è¯·æ±‚

1. æè¿°æ‚¨æƒ³è¦çš„åŠŸèƒ½
2. è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
3. æä¾›ä½¿ç”¨åœºæ™¯ç¤ºä¾‹
4. è€ƒè™‘å¯èƒ½çš„å®ç°æ–¹æ¡ˆ

## å®‰å…¨æ¼æ´

**è¯·å‹¿åœ¨å…¬å¼€Issueä¸­æŠ¥å‘Šå®‰å…¨æ¼æ´ï¼**

å¦‚æœæ‚¨å‘ç°å®‰å…¨æ¼æ´ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼ç§ä¸‹è”ç³»æˆ‘ä»¬ï¼š

1. å‘é€é‚®ä»¶è‡³: security@openedr.org
2. ä½¿ç”¨PGPåŠ å¯†ï¼ˆå…¬é’¥åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
3. åŒ…å«è¯¦ç»†çš„æ¼æ´æè¿°å’Œå¤ç°æ­¥éª¤

æˆ‘ä»¬ä¼šåœ¨24å°æ—¶å†…å“åº”ï¼Œå¹¶åœ¨ä¿®å¤åå…¬å¼€è‡´è°¢ã€‚

## Pull Requestæ£€æŸ¥æ¸…å•

æäº¤PRå‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯• `make test`
- [ ] ä»£ç é€šè¿‡lintæ£€æŸ¥ `make lint`
- [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒ
- [ ] æ²¡æœ‰åŒ…å«æ•æ„Ÿä¿¡æ¯
- [ ] PRæè¿°æ¸…æ™°å®Œæ•´

## ä»£ç å®¡æŸ¥æµç¨‹

1. **è‡ªåŠ¨æ£€æŸ¥**: CIä¼šè‡ªåŠ¨è¿è¡Œæµ‹è¯•å’Œæ£€æŸ¥
2. **ä»£ç å®¡æŸ¥**: è‡³å°‘éœ€è¦ä¸€ä½ç»´æŠ¤è€…å®¡æŸ¥
3. **åé¦ˆå¤„ç†**: æ ¹æ®åé¦ˆè¿›è¡Œä¿®æ”¹
4. **åˆå¹¶**: é€šè¿‡æ‰€æœ‰æ£€æŸ¥ååˆå¹¶

## ç¤¾åŒºæ”¯æŒ

- **Discord**: [åŠ å…¥æˆ‘ä»¬çš„Discord](https://discord.gg/openedr)
- **è®ºå›**: [ç¤¾åŒºè®ºå›](https://forum.openedr.org)
- **é‚®ä»¶åˆ—è¡¨**: openedr-dev@googlegroups.com

## è´¡çŒ®è€…åè®®

é¦–æ¬¡è´¡çŒ®æ—¶ï¼Œæ‚¨éœ€è¦ç­¾ç½²è´¡çŒ®è€…è®¸å¯åè®®(CLA)ã€‚è¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æµç¨‹ï¼Œåªéœ€è¦è¿›è¡Œä¸€æ¬¡ã€‚

## è‡´è°¢

æˆ‘ä»¬æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…ï¼æ‚¨çš„åå­—å°†å‡ºç°åœ¨ï¼š
- [è´¡çŒ®è€…åˆ—è¡¨](https://github.com/yourusername/OpenEDR/graphs/contributors)
- é¡¹ç›®README
- å‘å¸ƒè¯´æ˜

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰ 