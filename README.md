# OpenEDR - 开源端点检测与响应系统

## 项目概述

OpenEDR是一个从零开始构建的端点检测与响应（EDR）系统，旨在提供企业级的端点安全监控、威胁检测和自动化响应能力。

### 核心功能

- **实时监控**: 进程、网络、文件系统、注册表活动监控
- **威胁检测**: 基于规则和行为分析的威胁检测引擎
- **自动响应**: 自动化的威胁响应和隔离能力
- **集中管理**: 中央管理服务器和Web控制台
- **威胁情报**: 集成威胁情报源进行增强检测
- **取证分析**: 详细的事件日志和取证数据收集

## 系统架构

```
┌─────────────────────────────────────────────────────┐
│                   管理控制台                           │
│              (Web Dashboard & API)                   │
└─────────────────────┬───────────────────────────────┘
                      │ HTTPS/WebSocket
┌─────────────────────┴───────────────────────────────┐
│                  中央服务器                           │
│   ┌────────────┐  ┌────────────┐  ┌────────────┐   │
│   │ 数据处理引擎 │  │  检测引擎   │  │  响应引擎   │   │
│   └────────────┘  └────────────┘  └────────────┘   │
│   ┌────────────┐  ┌────────────┐  ┌────────────┐   │
│   │  数据存储   │  │ 威胁情报集成 │  │  API服务    │   │
│   └────────────┘  └────────────┘  └────────────┘   │
└─────────────────────┬───────────────────────────────┘
                      │ gRPC/TLS
┌─────────────────────┴───────────────────────────────┐
│                   EDR Agent                          │
│   ┌────────────┐  ┌────────────┐  ┌────────────┐   │
│   │ 数据收集器  │  │ 本地检测引擎 │  │  响应模块   │   │
│   └────────────┘  └────────────┘  └────────────┘   │
│   ┌────────────┐  ┌────────────┐  ┌────────────┐   │
│   │ 内核驱动    │  │ 通信模块    │  │  配置管理   │   │
│   └────────────┘  └────────────┘  └────────────┘   │
└─────────────────────────────────────────────────────┘
```

## 技术栈

### Agent端
- **语言**: C/C++ (核心功能), Go (高层组件)
- **内核**: Linux eBPF / Windows WDF
- **通信**: gRPC + TLS
- **存储**: SQLite (本地缓存)

### 服务器端
- **语言**: Go
- **框架**: Gin (Web API), gRPC (Agent通信)
- **数据库**: PostgreSQL (元数据), Elasticsearch (事件数据)
- **消息队列**: Apache Kafka
- **缓存**: Redis

### 前端
- **框架**: React + TypeScript
- **UI库**: Ant Design
- **状态管理**: Redux Toolkit
- **图表**: ECharts

## 快速开始

### 环境要求

- Go 1.21+
- Node.js 18+
- Docker & Docker Compose
- Linux Kernel 5.4+ (用于eBPF)

### 安装步骤

1. 克隆仓库
```bash
git clone https://github.com/yourusername/OpenEDR.git
cd OpenEDR
```

2. 启动开发环境
```bash
make dev-setup
```

3. 构建组件
```bash
make build-all
```

4. 启动服务
```bash
docker-compose up -d
```

详细的安装和配置指南请参考 [文档](./docs/installation.md)。

## 项目结构

```
OpenEDR/
├── agent/              # EDR Agent源代码
├── server/             # 中央服务器源代码
├── web/                # Web控制台源代码
├── shared/             # 共享库和协议定义
├── docs/               # 项目文档
├── scripts/            # 构建和部署脚本
├── tests/              # 测试代码
└── docker/             # Docker配置文件
```

## 贡献指南

欢迎贡献代码！请查看 [CONTRIBUTING.md](./CONTRIBUTING.md) 了解如何参与项目。

## 许可证

本项目采用 Apache License 2.0 许可证。详见 [LICENSE](./LICENSE) 文件。

## 联系方式

- 项目主页: https://github.com/yourusername/OpenEDR
- 问题反馈: https://github.com/yourusername/OpenEDR/issues
- 文档: https://openedr.readthedocs.io 